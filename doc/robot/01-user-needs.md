# 倒推用户需求（展厅机器人）

## 1. 目标与边界

**目标**：机器人在展厅内以自然语言（主要中文）完成“连续讲解 + 观众问答 + 导览引导”，支持多人围观与打断，并在网络/噪声/拥挤等真实环境下稳定运行。

**边界（本期不做/弱化）**：
- 不自研 SLAM/自主导航算法（采用底盘/第三方导航方案；本软件仅做“导航调用 + 状态编排 + 安全兜底”）
- 不做情感陪聊为主的开放域闲聊（优先“讲解/问答/指路/服务”）
- 不做面向公众的人脸识别/身份识别（涉及隐私合规，默认不采集与不存储）

## 2. 角色画像与“任务成功”定义

### 2.1 观众（大众）
- **成功定义**：能听懂、不断档；随时能插话提问；回答贴合展区内容且不胡编；听感清晰、语速舒适。
- **痛点**：人多嘈杂导致识别差；讲解中断后无法顺畅继续；重复/啰嗦；等待时间长。

### 2.2 观众（专业访客/客户）
- **成功定义**：回答更专业、可追溯（引用资料/参数）；支持“深入/对比/规格”等追问。
- **痛点**：泛泛而谈；无法给出关键参数/出处；对敏感信息把控不当。

### 2.3 展厅讲解员/运营人员
- **成功定义**：能配置路线、时长、风格与人群画像；能看到运行状态与问题（ASR/TTS/RAG 延迟、失败原因）；可一键暂停/恢复/跳站。
- **痛点**：现场问题难定位；讲解内容需要频繁迭代；不同活动场次的脚本差异大。

### 2.4 IT/运维
- **成功定义**：可监控、可回滚、可升级；网络不稳也能降级；日志能定位问题（白噪音、断流、重复段落等）。

## 3. 典型使用场景（User Journeys）

### S1：无人打断连续讲解（默认）
1) 工作人员点击“开始讲解”  
2) 机器人按既定展厅顺序讲解到结束  
3) 自动过渡到下一站，停顿尽可能短

**用户期望**：停顿少、过渡自然、不重复“欢迎来到/接下来我们到…”

### S2：讲解中观众提问（打断）
1) 机器人讲解中，观众插话提问  
2) 系统识别到提问意图并打断当前讲解  
3) 回答问题并补一句“要继续讲解吗？”  
4) 观众确认后继续（可从本展区继续或直接下一站）

**用户期望**：打断“立刻生效”（后端停止旧流程）；不会白噪音；继续讲解时承接自然。

### S3：多人围观轮询提问
1) 多人同时提问/抢话  
2) 系统按优先级/轮询策略排队  
3) 支持“高优先级（领导/主持人）”插队

**用户期望**：公平、可控；避免抖动（不停被打断导致谁都听不到）。

### S4：指路/服务类（卫生间、出口、咨询台）
1) 观众问“卫生间在哪？”  
2) 机器人给出方向+距离（若可接导航则触发“带路/指示”）

**用户期望**：回答明确、简短；在不确定时能说“我带你去/请看左侧指示牌…”

### S5：故障/弱网/噪声下的降级
- ASR 失败：提示“我没听清，请再说一遍/靠近麦克风”  
- RAG 失败：提示“当前网络不稳定，先为你概括本展区主题…”（可用本地脚本兜底）  
- TTS 失败：显示文字 + 可重播

### S6：带路/移动讲解（第三方 SLAM/导航）
1) 观众问“带我去心脏介入展厅/卫生间”  
2) 系统识别为“带路/导览”意图，选择目标点（POI）并触发导航  
3) 导航过程中可“边走边讲”（短句、可打断）  
4) 到达后自动切回“本站讲解/问答”

**用户期望**：走得稳、停得住、能随时取消；导航失败时明确说明并提供替代方案（指路/人工引导/就地讲解）。

## 4. 用户需求清单（优先级）

### P0（必须）
- 连续讲解（按展厅顺序）、可配置时长/风格/人群画像
- 任意时刻可打断（新问题中止旧流程：ASR/RAG/TTS 都停止）
- 中文语音识别准确、低延迟；在噪声环境可用
- 语音播报稳定无白噪音、不卡顿；断流/重连可自愈
- 讲解/问答内容以知识库为主，减少幻觉；不确定要明确表达
- 运维可定位问题：可视化耗时（提交→RAG→TTS第一包→播完）

### P1（重要）
- 多人提问队列（轮询/优先级）
- 过渡自然（上一站结尾与下一站开头不“撞词/重复”）
- 离线/弱网降级（至少能讲解“核心脚本版”）
- 支持手动跳站/重播/暂停/继续
- 可选“带路/移动讲解”：接入第三方 SLAM/导航，支持 go_to/cancel/state，并能在失败时安全降级（只讲解/口头指路）

### P2（增强）
- 支持多语种/双语讲解
- 展厅人流统计/热词统计（匿名）
- 与屏幕/大屏联动展示图片/视频
