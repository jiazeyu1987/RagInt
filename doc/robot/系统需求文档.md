# 系统需求

> 说明：本文描述“机器人系统”层面的需求（硬件/场地/运维/安全/外部依赖）。编号用于与系统详细设计逐条对齐。

## SR-1 场景与范围
- 展厅位于同一个房间内，路线固定，站点数量建议 3~10 个。
- 本期目标是“可用且可控”：能按站点移动、到站讲解、可被随时打断并恢复，不追求复杂 SLAM/自主建图能力。
- 不做人脸/身份识别；不扩展多语种、大屏联动、统计分析等增强项。

## SR-2 站点与路线
- 站点需可配置（站点顺序、站点名称、每站讲解时长）。
- 每个站点需有明确的“到站标准”（由底盘/导航系统给出为主），避免未到位即讲解。
- 站点配置需可导出/可备份，便于现场复用与变更。

## SR-3 移动与到站能力
- 支持“按站点前往/取消移动/查询状态”的最小闭环能力。
- 移动状态至少区分：空闲、移动中、已到站、失败、已取消、急停。
- 移动失败（不可达/超时/障碍持续阻塞）时必须停止移动并给出明确提示，等待人工介入。

## SR-4 安全与人机提示
- 必须具备物理急停（E‑Stop），触发后立即停止移动并进入安全状态。
- 室内人群环境下需限速/限加速度，必要时支持靠近人群自动降速或停止（能力由底盘提供即可）。
- 必须提供清晰的运行提示方式（指示灯或小屏），至少能区分：移动中/讲解中/听取中/异常。

## SR-5 语音输入（ASR 侧）
- 麦克风采集需稳定；建议具备 AEC/降噪能力，采样率可统一到 16k mono。
- 语音输入链路可控：支持开始/停止录音；识别失败需有提示与重试；必须有手动输入兜底。

## SR-6 语音输出（TTS 播放侧）
- 扬声器输出需清晰、音量足够，避免明显失真/杂音。
- 播放必须支持快速中断：打断触发后应在短时间内停止当前播报，避免继续播放旧内容。
- 音频播放链路建议统一采样率（16k），降低重采样带来的卡顿与延迟。

## SR-7 计算与系统环境
- 需配置一台主机/工控机运行“控制界面 + 业务服务”，支持开机自启与异常自动拉起。
- 存储用于配置、日志与历史问答；默认不保存原始音频（除非另行授权）。

## SR-8 网络与外部依赖
- 优先有线或稳定 Wi‑Fi；需保证与底盘控制器同网段可通信。
- 外部服务（知识库/ASR/TTS）可部署在内网或本机；若外部服务不可用，系统仍需保持“按站点讲解”的基本可用。

## SR-9 运维与可观测性
- 运行状态需可查看：当前站点、是否在移动、是否在讲解/听取、是否异常。
- 关键阶段耗时需可追踪（例如：提交→获取内容→首段可播→播放完成），用于现场定位问题。
- 日志需包含请求标识、站点信息、移动目标、取消原因、失败原因，并支持导出。

## SR-10 容错与降级
- 外部服务不可用时，支持降级为“本地脚本讲解 + 文本展示”（至少保证讲解链路不断）。
- TTS 不可用时，至少保留文本输出，并允许“手动重播/重试”。
- 移动异常时，不得进入“假到站讲解”；应停止并提示人工协助。

## SR-11 数据与隐私
- 不采集/不存储人脸或身份信息。
- 历史问答默认仅保存文本与时间戳/请求标识；日志与历史需有保留周期建议与清理机制。

## SR-12 交付物与文档
- 第三方交付需包含：BOM 清单、接线图、站点清单与标定方法、部署与自启动说明、维护手册。
- 需提供现场可执行的联调/验收检查表（移动、到站、打断、降级、恢复等）。

## SR-13 实施计划与人力投入（补充）
- 第三方需提供可执行的实施计划（阶段划分、里程碑、每阶段交付物），并给出人力投入估算（人月）。
- 人力估算需能与系统详细设计条目对应，作为预算与排期依据。
