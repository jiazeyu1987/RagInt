# 系统需求（机器人整体）

## 1. 系统范围（落地假设）

- 运行场景固定：展厅都在同一个房间内，空间不大、路线固定，站点数量控制在 10 个。
- 目标是“可用且可控”：能稳定走到每个站点、到站就讲解、可被随时打断；不追求复杂的建图、重定位与跨区域自主导航。
- 限制项：不做人脸/身份识别；不做多语种/大屏联动/统计分析；不考虑多楼层与跨场馆部署。

## 2. 硬件与移动

### 2.1 音频输入
- 麦克风建议支持 AEC/降噪；采样率统一到 16k mono，保证语音输入稳定性。
- 语音采集链路要可控：能开始/停止录音、可提示“没听清请再说一遍”，必要时支持手动输入作为兜底。

### 2.2 音频输出
- 扬声器输出稳定、音量足够，避免失真与杂音；播报清晰优先于“音色效果”。
- 播放链路支持快速中断：打断触发后应在短时间内停止当前播放。
- 采样率与后端输出一致（建议 16k），减少端侧重采样带来的卡顿与延迟。

### 2.3 移动定位
- 站点采用“预设点位”方案：每个展区对应一个可达点。
- 定位不追求厘米级精度，但要满足“到站后能开始讲解、不影响参观体验”的稳定性。
- 移动控制至少具备：`go_to(站点)`、`cancel()`、`get_state()`（是否在走/是否到位/是否失败）。
- 安全约束：支持急停/人工接管；遇到障碍或连续失败时停止移动并提示人工协助。

### 2.4 计算与存储
- 一台主机运行前端与后端；建议开机自启，异常自动拉起。
- 数据最小化：默认不保存原始音频，仅保存必要的文本、请求标识与少量运行日志；历史问答可存储。

### 2.5 安全与人机提示（补充）
- 急停：机身有物理急停按钮（E-Stop），急停后立即断开移动控制并进入安全状态。
- 提示：至少有一种明确的运行提示方式（指示灯/屏幕提示音），让参观者知道“正在移动/正在讲解/正在听你说”。
- 安全边界：移动速度与加速度需满足室内人群环境；靠近人群可降速或停止。

## 3. 网络与运维

- 优先有线或稳定 Wi-Fi；外部服务不可用时需要能降级（至少保证“按站点讲解”仍可运行）。
- 运维需要看得见：当前站点、是否在移动、是否在播报/识别/问答，以及关键耗时
- 日志要能追踪：request_id、站点、移动目标、取消原因、失败原因（便于复盘现场问题）。

## 4. 容错与降级

- 外部服务不可用：允许切换为“本地脚本讲解 + 文本展示”，确保基本可用。
- 移动异常：停止移动并提示人工协助；不要在失败状态下继续“假装到站讲解”。
- 打断规则要一致：任何新请求进入时，旧的播报/问答/移动都应可被取消，避免多个流程叠加。
